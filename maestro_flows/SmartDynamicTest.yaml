appId: com.example.maestro_test

# DYNAMIC ITEM TEST
#
# Limitação: Maestro não suporta loops dinâmicos verdadeiros
# Solução: Verificar condicionalmente índices 0-15 (cobrindo o range do MockConfig: 3-10)
#
# Estratégia: Toggle primeiro, meio e último elementos (se existirem)

---
- launchApp:
    clearState: true

# Esperar app carregar completamente
- extendedWaitUntil:
    visible:
      id: ${MAESTRO_TODO_ADD_INPUT}
    timeout: 10000

# Toggle PRIMEIRO item (índice 0) - sempre deve existir se há itens
- runFlow:
    when:
      visible:
        id: todo_item_checkbox_0
    commands:
      - tapOn:
          id: todo_item_checkbox_0
      - evalScript: ${console.log('✓ Toggled first item (0)')}

# Toggle itens do MEIO (índices 4-5) - existe se há 5+ itens
- runFlow:
    when:
      visible:
        id: todo_item_checkbox_4
    commands:
      - tapOn:
          id: todo_item_checkbox_4
      - evalScript: ${console.log('✓ Toggled middle item (4)')}

- runFlow:
    when:
      visible:
        id: todo_item_checkbox_5
    commands:
      - tapOn:
          id: todo_item_checkbox_5
      - evalScript: ${console.log('✓ Toggled middle item (5)')}

# Toggle ÚLTIMOS itens possíveis (índices 8-10) - existe se há 9-11 itens
- runFlow:
    when:
      visible:
        id: todo_item_checkbox_8
    commands:
      - tapOn:
          id: todo_item_checkbox_8
      - evalScript: ${console.log('✓ Toggled last item (8)')}

- runFlow:
    when:
      visible:
        id: todo_item_checkbox_9
    commands:
      - tapOn:
          id: todo_item_checkbox_9
      - evalScript: ${console.log('✓ Toggled last item (9)')}

# Este teste passa independentemente de quantos itens existam (3-10)
# porque usa verificação condicional para cada índice
